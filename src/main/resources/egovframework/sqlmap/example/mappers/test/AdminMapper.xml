<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="egovframework.sth.domain.admin.mapper.AdminMapper">

	<resultMap
		type="egovframework.sth.domain.admin.domain.AdminDTO" id="AdminDTO" />
	<resultMap
		type="egovframework.sth.domain.admin.domain.MemberDTO" id="MemberDTO" />
	<resultMap
		type="egovframework.sth.domain.admin.domain.BoardDTO" id="BoardDTO" />

	<select id="selMember" resultMap="MemberDTO">
		select * from member where m_state = #{m_state} and m_auth = 1;
	</select>

	<select id="selBoard" resultMap="BoardDTO">
		select a.b_no,a.b_title,a.b_auth,a.b_dt,a.b_tt,b.an_type1 from board a
		left join animal_info b
		on a.b_no = b.b_no
		where a.b_del =0 and b.an_type1= #{an_type1}
	</select>
	
	<update id="delBoard">
	update board 
	set b_del = 1
	where b_no = #{b_no}
	</update>
	<update id="delMember">
	update member 
	set m_auth = 2
	where m_no = #{m_no}
	</update>

</mapper>